<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_0krfa3s" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0">
  <bpmn:message id="Message_1pi3bbk" name="createTaskMessage" />
  <bpmn:process id="createUserTask" name="Create User Task" isExecutable="true">
    <bpmn:serviceTask id="calculateDueDate" name="Calculate Due Date" camunda:type="external" camunda:topic="calculate-due-date">
      <bpmn:incoming>Flow_17hz6gt</bpmn:incoming>
      <bpmn:outgoing>Flow_0goqofl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:endEvent id="Event_076nh9d" name="Overdue task completed">
      <bpmn:incoming>Flow_0sv04ne</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="processOverdueTask" name="${task.name}" camunda:formKey="${overdueTaskId}" camunda:candidateGroups="${task.group}" camunda:dueDate="${overdueTaskDueDate}">
      <bpmn:incoming>Flow_0goqofl</bpmn:incoming>
      <bpmn:outgoing>Flow_0sv04ne</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1okq3ab">
      <bpmn:incoming>Flow_1dygid7</bpmn:incoming>
      <bpmn:outgoing>Flow_0xlwe3k</bpmn:outgoing>
      <bpmn:outgoing>Flow_17hz6gt</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:endEvent id="overdueTaskNotCreated" name="No overdue task created">
      <bpmn:incoming>Flow_0xlwe3k</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:businessRuleTask id="Activity_19ca5lc" name="Create overdue task" camunda:resultVariable="task" camunda:decisionRef="getOverdueTask_${jurisdiction}_${caseType}" camunda:mapDecisionResult="singleResult">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:outputParameter name="overdueTaskId">${task.taskId}</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1qd9356</bpmn:incoming>
      <bpmn:outgoing>Flow_1dygid7</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:endEvent id="userTaskCompleted" name="User task completed">
      <bpmn:incoming>Flow_1t5gjw4</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="processTask" name="${name}" camunda:formKey="${taskId}" camunda:candidateGroups="${group}" camunda:dueDate="${dueDate != null ? dueDate : &#39;P2D&#39;}">
      <bpmn:incoming>Flow_1ex1957</bpmn:incoming>
      <bpmn:outgoing>Flow_1t5gjw4</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:boundaryEvent id="overdueTaskTimer" name="Overdue task timer" cancelActivity="false" attachedToRef="processTask">
      <bpmn:outgoing>Flow_1qd9356</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_1ni37xr">
        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${dueDate != null ? dueDate : 'P2D'}</bpmn:timeDate>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1ex1957" sourceRef="createTaskMessage" targetRef="processTask" />
    <bpmn:sequenceFlow id="Flow_1t5gjw4" sourceRef="processTask" targetRef="userTaskCompleted" />
    <bpmn:sequenceFlow id="Flow_1qd9356" sourceRef="overdueTaskTimer" targetRef="Activity_19ca5lc" />
    <bpmn:sequenceFlow id="Flow_1dygid7" sourceRef="Activity_19ca5lc" targetRef="Gateway_1okq3ab" />
    <bpmn:sequenceFlow id="Flow_0xlwe3k" name="Do not crate overdue task" sourceRef="Gateway_1okq3ab" targetRef="overdueTaskNotCreated">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${task == null}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0goqofl" name="Create overdue task" sourceRef="calculateDueDate" targetRef="processOverdueTask" />
    <bpmn:sequenceFlow id="Flow_0sv04ne" sourceRef="processOverdueTask" targetRef="Event_076nh9d" />
    <bpmn:sequenceFlow id="Flow_17hz6gt" sourceRef="Gateway_1okq3ab" targetRef="calculateDueDate" />
    <bpmn:startEvent id="createTaskMessage" name="Create User task message received">
      <bpmn:outgoing>Flow_1ex1957</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_153v0nn" messageRef="Message_08deb9v" />
    </bpmn:startEvent>
    <bpmn:subProcess id="cancelSubProcess" triggeredByEvent="true">
      <bpmn:startEvent id="cancelTasks" name="Cancel Process">
        <bpmn:outgoing>Flow_0fy4joa</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0vxc2ge" messageRef="Message_1k0m2ip" />
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0fy4joa" sourceRef="cancelTasks" targetRef="cancelledTasksCompleted" />
      <bpmn:endEvent id="cancelledTasksCompleted">
        <bpmn:incoming>Flow_0fy4joa</bpmn:incoming>
      </bpmn:endEvent>
    </bpmn:subProcess>
  </bpmn:process>
  <bpmn:message id="Message_1wn1xe7" name="Message_1tqgb06" />
  <bpmn:message id="Message_059jkd9" name="Message_2e8dj6o" />
  <bpmn:message id="Message_15v1c3c" name="Message_0tvklcc" />
  <bpmn:message id="Message_1kti91o" name="Message_3jahboo" />
  <bpmn:message id="Message_10ip1nj" name="Message_1k3lo6g" />
  <bpmn:message id="Message_1chfuh0" name="Message_32m3riq" />
  <bpmn:message id="Message_116brv9" name="Message_0ejfc7c" />
  <bpmn:message id="Message_01j1wf0" name="Message_1lp92gp" />
  <bpmn:message id="Message_09oo3rf" name="Message_3ev7ae9" />
  <bpmn:message id="Message_0wjufdz" name="Message_150cggv" />
  <bpmn:message id="Message_0p3owoe" name="Message_34h7ks7" />
  <bpmn:message id="Message_0us4veh" name="Message_0am77j3" />
  <bpmn:message id="Message_1gnhxls" name="Message_3hfebm6" />
  <bpmn:message id="Message_0z5ffbb" name="Message_0d1a163" />
  <bpmn:message id="Message_0nirg8l" name="Message_34onq2q" />
  <bpmn:message id="Message_1lelsr1" name="Message_3hlgl5b" />
  <bpmn:message id="Message_1dme7oc" name="Message_16ae01r" />
  <bpmn:message id="Message_1aezus4" name="Message_3r1h3he" />
  <bpmn:message id="Message_18jl9gq" name="Message_2vn13rr" />
  <bpmn:message id="Message_08deb9v" name="createTaskMessage" />
  <bpmn:message id="Message_1k0m2ip" name="cancelTasks" />
  <bpmn:escalation id="Escalation_0q8q2uv" name="escalateCancellation" />
  <bpmn:message id="Message_05nfuoz" name="Message_0k619qd" />
  <bpmn:escalation id="Escalation_0sj9fef" name="Escalation_Cancel_Task" escalationCode="cTasks" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="createUserTask">
      <bpmndi:BPMNEdge id="Flow_17hz6gt_di" bpmnElement="Flow_17hz6gt">
        <di:waypoint x="740" y="281" />
        <di:waypoint x="740" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0sv04ne_di" bpmnElement="Flow_0sv04ne">
        <di:waypoint x="790" y="510" />
        <di:waypoint x="842" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0goqofl_di" bpmnElement="Flow_0goqofl">
        <di:waypoint x="740" y="390" />
        <di:waypoint x="740" y="470" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="702" y="410" width="76" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xlwe3k_di" bpmnElement="Flow_0xlwe3k">
        <di:waypoint x="765" y="256" />
        <di:waypoint x="842" y="256" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="768" y="226" width="63" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dygid7_di" bpmnElement="Flow_1dygid7">
        <di:waypoint x="640" y="250" />
        <di:waypoint x="678" y="250" />
        <di:waypoint x="678" y="256" />
        <di:waypoint x="715" y="256" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qd9356_di" bpmnElement="Flow_1qd9356">
        <di:waypoint x="580" y="175" />
        <di:waypoint x="580" y="193" />
        <di:waypoint x="590" y="193" />
        <di:waypoint x="590" y="210" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1t5gjw4_di" bpmnElement="Flow_1t5gjw4">
        <di:waypoint x="630" y="117" />
        <di:waypoint x="736" y="117" />
        <di:waypoint x="736" y="170" />
        <di:waypoint x="842" y="170" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ex1957_di" bpmnElement="Flow_1ex1957">
        <di:waypoint x="215" y="117" />
        <di:waypoint x="530" y="117" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_12w2x1m_di" bpmnElement="calculateDueDate">
        <dc:Bounds x="690" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_076nh9d_di" bpmnElement="Event_076nh9d">
        <dc:Bounds x="842" y="492" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="828" y="535" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00ol99a_di" bpmnElement="processOverdueTask">
        <dc:Bounds x="690" y="470" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1svqvkp_di" bpmnElement="Gateway_1okq3ab" isMarkerVisible="true">
        <dc:Bounds x="715" y="231" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_02dwm2u_di" bpmnElement="overdueTaskNotCreated">
        <dc:Bounds x="842" y="238" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="822" y="281" width="81" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0mqu4ld_di" bpmnElement="userTaskCompleted">
        <dc:Bounds x="842" y="152" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="835" y="195" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1h3qguy_di" bpmnElement="processTask">
        <dc:Bounds x="530" y="77" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0836shu_di" bpmnElement="createTaskMessage">
        <dc:Bounds x="179" y="99" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="153" y="142" width="90" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_192xf2o_di" bpmnElement="Activity_19ca5lc">
        <dc:Bounds x="540" y="210" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ujt1n5_di" bpmnElement="cancelSubProcess" isExpanded="true">
        <dc:Bounds x="420" y="610" width="350" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0fy4joa_di" bpmnElement="Flow_0fy4joa">
        <di:waypoint x="538" y="710" />
        <di:waypoint x="662" y="710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1rf35yg_di" bpmnElement="cancelledTasksCompleted">
        <dc:Bounds x="662" y="692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_006cei4_di" bpmnElement="cancelTasks">
        <dc:Bounds x="502" y="692" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="481" y="735" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0e220h0_di" bpmnElement="overdueTaskTimer">
        <dc:Bounds x="562" y="139" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="549" y="182" width="66" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
